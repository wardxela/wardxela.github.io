const cartItems=document.querySelectorAll("[data-cart-element]");function cartStateHandler(t,e){var a=e.querySelector("[data-cart-item-amount]"),r=e.querySelector("[data-cart-item-price]");switch(t){case"increment":cartItemStateHandler(a,r,1);break;case"decrement":cartItemStateHandler(a,r,-1);break;case"remove":cartItemStateHandler(a,r,null,!0);break;case"__INIT__":cartItemStateHandler(a,r)}cartTotalStateHandler()}function cartItemStateHandler(t,e,a=0,r=!1){a=r?0:parseInt(t.textContent)+a;(0<a||r)&&(t.textContent=a,e.textContent=a*parseInt(e.dataset.cartItemPrice))}function cartTotalStateHandler(){const t=document.querySelector("[data-cart-total]");let e=0;cartItems.forEach(t=>{e+=parseInt(t.querySelector("[data-cart-item-price").textContent)}),t.textContent=e}cartItems.forEach(e=>{cartStateHandler("__INIT__",e),e.addEventListener("click",t=>{t.target.closest("[data-cart-action]")?cartStateHandler(t.target.closest("[data-cart-action]").dataset.cartAction,e):t.target.closest("[data-cart-remove-item]")&&(cartStateHandler("remove",e),t.target.closest("[data-cart-element]").remove())})});